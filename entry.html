
<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>View entry</title>
  <link rel="stylesheet" href="styles/entry.css">
</head>
<body>
  <h1>TPTElements v3.0 (Backbone.js)</h1>

  <div id="box">Preparing...</div>
  <div id="foot">by boxmein 2014 <a href="http://cristgaming.com/pirate.swf">license</a> <a href="https://github.com/boxmein/TPTElements/tree/backbone">github</a></div>
  <script>

    window.onload = function() {
      if (!location.hash) {
        document.getElementById('box').innerHTML = "<p>You haven't come here via any link, thus we don't have anything to show you. </p> <p> You can head over to <a href=\"search.html\">search.html</a> to find something!</p>"; 
        return;
      }
      var hash = location.hash.toLowerCase().replace('.', '_').slice(1);
      console.log('hash:', hash);

      var xhr = new XMLHttpRequest();
      xhr.open('GET', 'html/' + hash + '.html');
      xhr.onload = function() {

        // wow, we actually got a response!
        if (xhr.status == 200) {
          document.getElementById('box').innerHTML = xhr.responseText;
        }

        else if (xhr.status == 404) {
          console.log('404', xhr);
        }
      };

      xhr.send();
    };
  </script>
</body>
</html>